/*! WRScroller - v0.1.0 - 2014-08-25
* https://github.com/wardmruth/wrscroller
* Copyright (c) 2014 Ward Ruth; Licensed MIT */
!function(a){function b(){this.$scrollContainer.stop()}function c(a){var b=this;this.$scrollContainer.animate({transform:"translateX("+a+")"},this.scrollDuration,this.scrollEasing,function(){b.completeCallback(b)})}function d(){var b=0;return this.$scrollContainer.children().each(function(){b+=a(this).outerWidth(!0)}),this.$scrollContainer.css("width",b+"px"),b}function e(a){var b,c,d=new Array(this.numSteps),e=this.viewportWidth-this.scrollChildrenWidth,f=this.numSteps-1;if(d[0]=0,d[f]=e,a)for(b=1;f>b;b++)d[b]=-(b*this.viewportWidth);else for(b=f-1,c=1;b>0;b--,c++)d[b]=e+c*this.viewportWidth;this.stepPositions=d}function f(){var b=".wrscroller",c=this.$el;this.$previous&&(this.$previous.off("click"+b),this.$previous.on("click"+b,a.proxy(this.previous,this))),this.$next&&(this.$next.off("click"+b),this.$next.on("click"+b,a.proxy(this.next,this))),c.off("mouseenter"+b),c.off("mouseleave"+b),c.on("mouseenter"+b,function(){c.addClass("mouse-enter"),c.data("mouse-enter","yes")}),c.on("mouseleave"+b,function(){c.removeClass("mouse-enter"),c.removeData("mouse-enter")})}function g(){this.$previous&&this.$previous.removeClass("disabled"),this.$next&&this.$next.removeClass("disabled"),this.isAtStart=this.isAtEnd=!1}function h(b){var c=this.$el;this.$previous=c.find(b.previouseSelector),this.$next=c.find(b.nextSelector),this.$viewport=c.find(b.viewportSelector),this.$scrollContainer=a(this.$viewport.children()[0]),this.scrollDuration=b.scrollDuration,this.completeCallback=b.completeCallback,this.viewportWidth=this.$viewport.outerWidth(),this.scrollChildrenWidth=d.call(this),this.numSteps=Math.ceil(this.scrollChildrenWidth/this.viewportWidth),this.stepIndex=0,this.isAtStart=!0,this.isAtEnd=this.scrollChildrenWidth<=this.viewportWidth,e.call(this,!0),this.$previous&&this.$previous.addClass("disabled"),this.isAtEnd&&this.$next&&this.$next.addClass("disabled"),f.call(this)}a.WRScroller=function(b,c){this.el=b,this.$el=a(b),h.call(this,c)},a.WRScroller.prototype.previous=function(){return this.stepIndex>0&&(b.call(this),c.call(this,this.stepPositions[--this.stepIndex]),g.call(this),0===this.stepIndex&&(this.$previous.addClass("disabled"),this.isAtStart=!0,e.call(this,!0))),this},a.WRScroller.prototype.next=function(){return this.stepIndex<this.numSteps-1&&(b.call(this),c.call(this,this.stepPositions[++this.stepIndex]),g.call(this),this.stepIndex===this.numSteps-1&&(this.$next.addClass("disabled"),this.isAtEnd=!0,e.call(this,!1))),this},a.WRScroller.prototype.destroy=function(){var a=".wrscroller",c=this.$el;b.call(this),g.call(this),this.$previous&&this.$previous.off("click"+a),this.$next&&this.$next.off("click"+a),c.off("mouseenter"+a),c.off("mouseleave"+a),c.removeClass("mouse-enter"),c.removeData("mouse-enter"),c.removeData("wrscroller"),this.$scrollContainer.removeAttr("style")},a.fn.wrscroller=function(b){var c=a.extend({},a.fn.wrscroller.defaults,b||{});return this.each(function(){var b=a(this);b.data("wrscroller")||b.data("wrscroller",new a.WRScroller(this,c))})},a.fn.wrscroller.defaults={scrollDuration:250,scrollEasing:"swing",viewportSelector:".viewport",previouseSelector:".previous",nextSelector:".next",completeCallback:function(){}}}(jQuery);